{"version":3,"sources":["index.js"],"names":["dotenv","config","bot","Telegraf","process","env","BOT_TOKEN","wit","TelegrafWit","WIT_TOKEN","telegram","getMe","then","botInfo","options","username","on","ctx","meaning","message","text","res","entities","ForecastController","currentForecast","ForecastApiService","ForecastEntities","startPolling"],"mappings":";;;;AAAA;;AACA;;AACA;;AAEA;;AAEA;;AAEA;;AALA;AAEA;AAEA;AAGA;AACAA,mBAAOC,MAAP;;AAEA,IAAMC,GAAG,GAAG,IAAIC,oBAAJ,CAAaC,OAAO,CAACC,GAAR,CAAYC,SAAzB,CAAZ;AACA,IAAMC,GAAG,GAAG,IAAIC,uBAAJ,CAAgBJ,OAAO,CAACC,GAAR,CAAYI,SAA5B,CAAZ;AAEAP,GAAG,CAACQ,QAAJ,CAAaC,KAAb,GAAqBC,IAArB,CAA0B,UAACC,OAAD,EAAa;AACrCX,EAAAA,GAAG,CAACY,OAAJ,CAAYC,QAAZ,GAAuBF,OAAO,CAACE,QAA/B;AACD,CAFD;AAIAb,GAAG,CAACc,EAAJ,CAAO,MAAP,EAAe,UAACC,GAAD;AAAA,SAASV,GAAG,CACxBW,OADqB,CACbD,GAAG,CAACE,OAAJ,CAAYC,IADC,EAErBR,IAFqB,CAEhB,UAACS,GAAD,EAAS;AACb,QAAI,qBAAqBA,GAAG,CAACC,QAA7B,EAAuC;AACrCC,4BAAmBC,eAAnB,CAAmCC,uBAAnC,EAAuDC,oBAAvD,EAAyET,GAAzE;AACD;;AACD,WAAO,KAAP;AACD,GAPqB,CAAT;AAAA,CAAf;AASAf,GAAG,CAACyB,YAAJ","sourcesContent":["import Telegraf from 'telegraf';\nimport dotenv from 'dotenv';\nimport TelegrafWit from 'telegraf-wit';\n// Services.\nimport ForecastApiService from './services/forecast-api.service';\n// Entities\nimport ForecastEntities from './entites/forecast.entites';\n// Controllers.\nimport ForecastController from './controllers/forecast.controller';\n\n// Setup dotenv.\ndotenv.config();\n\nconst bot = new Telegraf(process.env.BOT_TOKEN);\nconst wit = new TelegrafWit(process.env.WIT_TOKEN);\n\nbot.telegram.getMe().then((botInfo) => {\n  bot.options.username = botInfo.username;\n});\n\nbot.on('text', (ctx) => wit\n  .meaning(ctx.message.text)\n  .then((res) => {\n    if ('currentForecast' in res.entities) {\n      ForecastController.currentForecast(ForecastApiService, ForecastEntities, ctx);\n    }\n    return false;\n  }));\n\nbot.startPolling();\n"],"file":"index.js"}